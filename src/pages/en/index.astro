---
import Layout from "../../layouts/Layout.astro";
import { Image } from "astro:assets";
import heroBg from "../../assets/images/hero-bg.jpg";
import aboutUsImg from "../../assets/images/nosotros.png";
import { getServices } from "../../data/services";
import Partners from "../../components/Partners.astro";
import {
    getLangFromUrl,
    useTranslations,
    getRelativeLocaleUrl,
} from "../../i18n/utils";

const lang = "en";
const t = useTranslations(lang);
const services = getServices(lang);
---

<Layout title="Anahata Beauty Spa | Wellness & Relaxation">
    <main>
        <!-- Hero Section -->
        <section
            id="inicio"
            class="relative h-screen flex items-center justify-center overflow-hidden"
        >
            <!-- Background Image -->
            <div class="absolute inset-0 z-0">
                <div class="absolute inset-0 bg-stone-900/30 z-10"></div>
                <Image
                    src={heroBg}
                    alt="Relaxing Spa Atmosphere"
                    width={2070}
                    height={1380}
                    class="w-full h-full object-cover"
                    loading="eager"
                    fetchpriority="high"
                />
            </div>

            <div class="relative z-20 text-center text-white px-4">
                <div class="mb-8 flex justify-center">
                    <img
                        src="/logo_principal.svg"
                        alt="Anahata Beauty Spa"
                        class="h-60 md:h-80 w-auto drop-shadow-2xl animate-fade-in-up"
                    />
                </div>
                <h1 class="sr-only">Anahata Beauty Spa</h1>
                <p
                    class="text-xl md:text-2xl mb-8 font-light max-w-2xl mx-auto drop-shadow-md"
                >
                    {t("hero.subtitle")}
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a
                        href={getRelativeLocaleUrl(lang, "#servicios")}
                        class="bg-teal-700 hover:bg-teal-600 text-white font-semibold py-3 px-8 rounded-full transition duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm bg-opacity-90"
                    >
                        {t("hero.cta.services")}
                    </a>
                    <a
                        href="https://wa.me/529992923345"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="bg-white/10 hover:bg-white/20 text-white border border-white/50 font-semibold py-3 px-8 rounded-full transition duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm"
                    >
                        {t("hero.cta.contact")}
                    </a>
                </div>
            </div>
        </section>

        <!-- Brief Intro -->
        <section
            id="servicios"
            class="py-20 px-6 max-w-6xl mx-auto text-center scroll-mt-28"
        >
            <h2 class="text-4xl font-bold text-teal-800 mb-6">
                {t("intro.title")}
            </h2>
            <p
                class="text-lg text-stone-600 leading-relaxed max-w-3xl mx-auto mb-12"
            >
                {t("intro.desc")}
            </p>

            <!-- Services Grid Preview -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                {
                    services.map((service) => (
                        <a
                            href={getRelativeLocaleUrl(
                                lang,
                                `/services/${service.slug}`,
                            )}
                            class="block group"
                        >
                            <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-stone-100 transform group-hover:-translate-y-2 h-full flex flex-col justify-between">
                                <div>
                                    <div class="text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300">
                                        {service.icon}
                                    </div>
                                    <h3 class="text-xl font-bold text-stone-800 mb-2 group-hover:text-teal-700 transition-colors">
                                        {service.title}
                                    </h3>
                                    <p class="text-stone-600 leading-snug">
                                        {service.shortDesc}
                                    </p>
                                </div>
                                <div class="mt-4 text-teal-600 font-medium text-sm opacity-0 group-hover:opacity-100 transition-opacity transform translate-y-2 group-hover:translate-y-0">
                                    {t("services.more")}
                                </div>
                            </div>
                        </a>
                    ))
                }
            </div>
        </section>

        <!-- About Us Section -->
        <section id="nosotros" class="py-24 bg-stone-50 scroll-mt-28">
            <div class="max-w-6xl mx-auto px-6">
                <div
                    class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center"
                >
                    <!-- Image Side -->
                    <div class="relative group">
                        <div
                            class="absolute -inset-4 bg-teal-800/10 rounded-3xl transform -rotate-3 transition duration-500 group-hover:rotate-0"
                        >
                        </div>
                        <Image
                            src={aboutUsImg}
                            alt="Inside Anahata Spa"
                            width={800}
                            height={1000}
                            class="relative rounded-2xl shadow-xl w-full object-cover h-[500px]"
                        />
                    </div>

                    <!-- Text Side -->
                    <div>
                        <h2
                            class="text-4xl md:text-5xl font-bold text-stone-800 mb-8 font-serif"
                        >
                            {t("about.title")}
                        </h2>
                        <div class="space-y-6 text-lg text-stone-600">
                            <p>
                                {t("about.p1.1")}
                                <span class="text-teal-700 font-semibold"
                                    >{t("about.p1.2")}</span
                                >
                                {t("about.p1.3")}
                            </p>
                            <p>
                                {t("about.p2")}
                            </p>
                        </div>

                        <div
                            class="mt-10 grid grid-cols-2 gap-8 border-t border-stone-200 pt-8"
                        >
                            <div>
                                <h4
                                    class="text-4xl font-bold text-teal-800 mb-2"
                                >
                                    +10
                                </h4>
                                <p class="text-stone-500 uppercase text-sm">
                                    {t("stats.experience")}
                                </p>
                            </div>
                            <div>
                                <h4
                                    class="text-4xl font-bold text-teal-800 mb-2"
                                >
                                    100%
                                </h4>
                                <p class="text-stone-500 uppercase text-sm">
                                    {t("stats.clients")}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Partners Section -->
        <Partners />
    </main>
</Layout>
